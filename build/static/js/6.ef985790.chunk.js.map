{"version":3,"sources":["assets/img/forgot-password-office.jpeg","assets/img/forgot-password-office-dark.jpeg","pages/ResetPassword.js"],"names":["ResetPassword","t","useTranslation","token","useParams","password","useRef","loading","setLoading","useState","register","handleSubmit","watch","formState","errors","useForm","current","_jsx","className","children","_jsxs","src","ImageLight","alt","ImageDark","onSubmit","_ref","newPassword","AdminServices","resetPassword","then","res","notifySuccess","message","catch","err","notifyError","response","data","LabelArea","label","Input","name","type","placeholder","required","minLength","value","Error","errorName","validate","confirm_password","Button","disabled","block","Link","to"],"mappings":"uHAAe,QAA0B,mD,oCCA1B,QAA0B,wD,oCCAzC,oHAoHeA,UAvGOA,KACpB,MAAM,EAAEC,GAAMC,eACR,MAAEC,GAAUC,cACZC,EAAWC,iBAAO,KACjBC,EAASC,GAAcC,oBAAS,IACjC,SACJC,EAAQ,aACRC,EAAY,MACZC,EACAC,WAAW,OAAEC,IACXC,cAEJV,EAASW,QAAUJ,EAAM,eAgBzB,OACEK,cAAA,OAAKC,UAAU,iEAAgEC,SAC7EF,cAAA,OAAKC,UAAU,iGAAgGC,SAC7GC,eAAA,OAAKF,UAAU,4CAA2CC,SAAA,CACxDC,eAAA,OAAKF,UAAU,0BAAyBC,SAAA,CACtCF,cAAA,OACE,cAAY,OACZC,UAAU,yCACVG,IAAKC,IACLC,IAAI,WAENN,cAAA,OACE,cAAY,OACZC,UAAU,+CACVG,IAAKG,IACLD,IAAI,cAGRN,cAAA,QAAMC,UAAU,wDAAuDC,SACrEC,eAAA,OAAKF,UAAU,SAAQC,SAAA,CACrBF,cAAA,MAAIC,UAAU,8DAA6DC,SACxElB,EAAE,mBAGLmB,eAAA,QAAMK,SAAUd,GAtCNe,IAAsB,IAArB,YAAEC,GAAaD,EACpClB,GAAW,GAEXoB,IAAcC,cAAc,CAAEF,cAAaxB,UACxC2B,MAAMC,IACLvB,GAAW,GACXwB,YAAcD,EAAIE,QAAQ,IAE3BC,OAAOC,IACN3B,GAAW,GACX4B,YAAYD,EAAMA,EAAIE,SAASC,KAAKL,QAAUE,EAAIF,QAAQ,GAC1D,IA2BkDd,SAAA,CAC1CF,cAACsB,IAAS,CAACC,MAAM,aACjBvB,cAACwB,QAAK,CACJD,MAAM,WACNE,KAAK,cACLC,KAAK,WACLC,YAAY,cACRlC,EAAS,cAAe,CAC1BmC,SAAU,8BACVC,UAAW,CACTC,MAAO,GACPd,QAAS,+CAGbf,UAAU,oHAEZD,cAAC+B,IAAK,CAACC,UAAWnC,EAAOa,cACzBV,cAAA,OAAKC,UAAU,SACfD,cAACsB,IAAS,CAACC,MAAM,qBACjBvB,cAACwB,QAAK,CACJD,MAAM,mBACNE,KAAK,mBACLC,KAAK,WACLC,YAAa3C,EAAE,sBACXS,EAAS,mBAAoB,CAC/BwC,SAAWH,GAAUA,IAAU1C,EAASW,SAAW,+BAErDE,UAAU,oHAEZD,cAAC+B,IAAK,CAACC,UAAWnC,EAAOqC,mBAEzBlC,cAACmC,SAAM,CAACC,SAAU9C,EAASoC,KAAK,SAASW,OAAK,EAACpC,UAAU,YAAWC,SACjElB,EAAE,cAGPgB,cAAA,KAAGC,UAAU,OAAMC,SACjBF,cAACsC,IAAI,CACHrC,UAAU,yEACVsC,GAAG,SAAQrC,SAEVlB,EAAE,iCAOX,C","file":"static/js/6.ef985790.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/forgot-password-office.d1630a33.jpeg\";","export default __webpack_public_path__ + \"static/media/forgot-password-office-dark.d1630a33.jpeg\";","import { Button, Input } from \"@windmill/react-ui\";\nimport React, { useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\nimport Error from \"components/form/Error\";\nimport LabelArea from \"components/form/LabelArea\";\nimport AdminServices from \"services/AdminServices\";\nimport { notifyError, notifySuccess } from \"utils/toast\";\nimport ImageLight from \"assets/img/forgot-password-office.jpeg\";\nimport ImageDark from \"assets/img/forgot-password-office-dark.jpeg\";\n\nconst ResetPassword = () => {\n  const { t } = useTranslation()\n  const { token } = useParams();\n  const password = useRef(\"\");\n  const [loading, setLoading] = useState(false);\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm();\n\n  password.current = watch(\"newPassword\");\n\n  const submitHandler = ({ newPassword }) => {\n    setLoading(true);\n\n    AdminServices.resetPassword({ newPassword, token })\n      .then((res) => {\n        setLoading(false);\n        notifySuccess(res.message);\n      })\n      .catch((err) => {\n        setLoading(false);\n        notifyError(err ? err.response.data.message : err.message);\n      });\n  };\n\n  return (\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\n      <div className=\"flex-1 h-full max-w-4xl mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\n          <div className=\"h-32 md:h-auto md:w-1/2\">\n            <img\n              aria-hidden=\"true\"\n              className=\"object-cover w-full h-full dark:hidden\"\n              src={ImageLight}\n              alt=\"Office\"\n            />\n            <img\n              aria-hidden=\"true\"\n              className=\"hidden object-cover w-full h-full dark:block\"\n              src={ImageDark}\n              alt=\"Office\"\n            />\n          </div>\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-1/2\">\n            <div className=\"w-full\">\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\n                {t(\"ResetPassword\")}\n              </h1>\n\n              <form onSubmit={handleSubmit(submitHandler)}>\n                <LabelArea label=\"Password\" />\n                <Input\n                  label=\"Password\"\n                  name=\"newPassword\"\n                  type=\"password\"\n                  placeholder=\"Password\"\n                  {...register(\"newPassword\", {\n                    required: \"You must specify a password\",\n                    minLength: {\n                      value: 10,\n                      message: \"Password must have at least 10 characters\",\n                    },\n                  })}\n                  className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n                />\n                <Error errorName={errors.newPassword} />\n                <div className=\"mt-6\"></div>\n                <LabelArea label=\"Confirm Password\" />\n                <Input\n                  label=\"Confirm Password\"\n                  name=\"confirm_password\"\n                  type=\"password\"\n                  placeholder={t(\"ConfirmPassword\")}\n                  {...register(\"confirm_password\", {\n                    validate: (value) => value === password.current || \"The passwords do not match\",\n                  })}\n                  className=\"border h-12 text-sm focus:outline-none block w-full bg-gray-100 dark:bg-white border-transparent focus:bg-white\"\n                />\n                <Error errorName={errors.confirm_password} />\n\n                <Button disabled={loading} type=\"submit\" block className=\"mt-4 h-12\">\n                  {t(\"Reset\")}\n                </Button>\n              </form>\n              <p className=\"mt-4\">\n                <Link\n                  className=\"text-sm font-medium text-green-500 dark:text-green-400 hover:underline\"\n                  to=\"/login\"\n                >\n                  {t(\"AlreadyAccount\")}\n                </Link>\n              </p>\n            </div>\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n"],"sourceRoot":""}